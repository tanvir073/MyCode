kmeanobj<-kmeans(dataFrame,centers = 2)
kmeanobj
set.seed(1234)
par(mar=c(0,0,0,0))
x<-rnorm(12,mean = rep(1:3,each=4),sd=0.2)
y<-rnorm(12,mean = rep(c(1,2,1),each=4),sd=0.2)
plot(x,y,col="red",pch=19,cex=2)
text(x+0.05,y+0.05,lables=as.character(1:12))
dataFrame=data.frame(x=x,y=y)
kmeanobj<-kmeans(dataFrame,centers = 3)
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)
text(x+0.05,y+0.05,lables=as.character(kmeanobj$cluster))
kmeanobj$cluster
text(x+0.05,y+0.05,lables=as.character(kmeanobj$cluster))
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)
text(x+0.05,y+0.05,lables=as.character(kmeanobj$cluster))
text(x+0.05,y+0.05,lables=as.character(1:4))
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)
text(x+0.05,y+0.05,lables=as.character(1:4))
as.character(kmeanobj$cluster)
set.seed(1234)
par(mar=c(0,0,0,0))
x<-rnorm(12,mean = rep(1:3,each=4),sd=0.2)
y<-rnorm(12,mean = rep(c(1,2,1),each=4),sd=0.2)
dataFrame=data.frame(x=x,y=y)
kmeanobj<-kmeans(dataFrame,centers = 3)
kmeanobj
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)
text(x+0.05,y+0.05,lables=as.character(kmeanobj$cluster))
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)
text(x+0.05,y+0.05)
kmeanobj
kmeanobj$centers
plot(kmeanobj$centers,col=kmeanobj$cluster,pch=19,cex=5)
plot(kmeanobj$centers,col=1:3,pch=19,cex=5)
plot(kmeanobj$centers,col=1:3,pch=19,cex=3)
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)+plot(kmeanobj$centers,col=1:3,pch=19,cex=3)
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)
points(kmeanobj$centers)
points(kmeanobj$centers,col=1:3,pch=19,cex=3)
points(kmeanobj$centers,col=1:3,pch=19,cex=4)
points(kmeanobj$centers,col=1:3,pch=18,cex=3)
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)
points(kmeanobj$centers,col=1:3,pch=18,cex=3)
plot(x,y,col=kmeanobj$cluster,pch=1,cex=2)
plot(x,y,col=kmeanobj$cluster,pch=2,cex=2)
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)
text(x+0.05,y+0.05,lables=as.character(kmeanobj$cluster))
points(kmeanobj$centers,col=1:3,pch=19,cex=1)
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)
points(kmeanobj$centers,col=1:3,pch=3,cex=3)
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)
points(kmeanobj$centers,col=1:3,pch=3,cex=3,lwd=3)
points(kmeanobj$centers,col=1:3,pch=3,cex=2,lwd=3)
plot(x,y,col=kmeanobj$cluster,pch=19,cex=2)
points(kmeanobj$centers,col=1:3,pch=3,cex=2,lwd=3)
points(kmeanobj$centers,col=1:3,pch=3,cex=3,lwd=3)
as.matrix(dataFrame)[sample(1:12),]
dataFrame
kmeanobj<-kmeans(dataMatrix,centers = 3)
dataMatrix<-as.matrix(dataFrame)[sample(1:12),]
kmeanobj<-kmeans(dataMatrix,centers = 3)
par(mfrow=c(1,2),mar=c(2,4,0.1,0.1))
t(dataMatrix)
nrow(dataMatrix):1
image(t(dataMatrix))
image(t(dataMatrix)[,nrow(dataMatrix):1])
image(t(dataMatrix)[,nrow(dataMatrix):1])
image(t(dataMatrix)[,nrow(dataMatrix):1],yaxt='n')
image(t(dataMatrix)[,nrow(dataMatrix):1],yaxt='n')
image(dataMatrix[,nrow(dataMatrix):1],yaxt='n')
image(dataMatrix[nrow(dataMatrix):1,],yaxt='n')
image(t(dataMatrix)[,nrow(dataMatrix):1])
t(dataMatrix)[,nrow(dataMatrix):1]
image(t(dataMatrix)[,order(kmeanobj$cluster)],yaxt='n')
order(kmeanobj$cluster)
kmeanobj$cluster
t(dataMatrix)[,order(kmeanobj$cluster)]
t(dataMatrix)
sort(dataMatrix)
sort(t(dataMatrix)[,order(kmeanobj$cluster)])
kmeanobj$cluster
order(kmeanobj$cluster)
t(dataMatrix)
t(dataMatrix)[,order(kmeanobj$cluster)]
order(c(1,4,2))
order(c(1,4,2,4))
order(c(2,4,3,4))
order(c(2,4,2,3,4,4))
text(x+0.05,y+0.05,lables=as.character(kmeanobj$cluster))
points(kmeanobj$centers,col=1:3,pch=3,cex=3,lwd=3)
c(2,4,2,3,4,4)
order(c(2,4,2,3,4,4))
c(2,4,2,3,4,4)
c(2,4,2,3,4,4,1)
order(c(2,4,2,3,4,4,1))
image(t(dataMatrix)[,1:nrow(dataMatrix)],yaxt='n')
image(t(dataMatrix)[,order(kmeanobj$cluster)],yaxt='n')
kmeanobj$cluster
order(kmeanobj$cluster)
x<-rnorm(12,mean = rep(1:3,each=4),sd=0.2)
y<-rnorm(12,mean = rep(c(1,2,1),each=4),sd=0.2)
dataFrame=data.frame(x=x,y=y)
dataMatrix<-as.matrix(dataFrame)[sample(1:12),]
kmeanobj<-kmeans(dataMatrix,centers = 3)
par(mfrow=c(1,2),mar=c(2,4,0.1,0.1))
image(t(dataMatrix)[,1:nrow(dataMatrix)],yaxt='n')
image(t(dataMatrix)[,order(kmeanobj$cluster)],yaxt='n')
t(dataMatrix)
kmeanobj$cluster
library(httr)
library(rvest)
library(dplyr)
res <- POST("https://www.myschool.edu.au/Home/GenericSearch",
encode="form",
user_agent("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"),
add_headers('Referer'="https://www.myschool.edu.au/Home/GenericSearch",'origin'="https://www.myschool.edu.au"),
body=list(
'SchoolNameGlobal'="Northfield Primary School,Northfield,SA,5085",
'SMCLID'="112444",
'SMCLDisplayID'="",
'Go.x'="21",
'Go.y'="17",
'Go'="Go"))
res_t <- content(res, as="text")
res_t
res <- POST("https://www.myschool.edu.au/Home/GenericSearch",
encode="form",
user_agent("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36"),
add_headers('Referer'="https://www.myschool.edu.au/Home/GenericSearch",'origin'="https://www.myschool.edu.au"),
body=list(
'SchoolNameGlobal'="Darlington Public School,Chippendale,NSW,2008",
'SMCLID'="104379",
'SMCLDisplayID'="",
'Go.x'="21",
'Go.y'="17",
'Go'="Go"))
res_t <- content(res, as="text")
res_t
library(rvest)
ateam <- read_html("https://www.google.com/search?q=site%3Ach&oq=site%3Ach&aqs=chrome..69i57j69i58.2273j0j4&sourceid=chrome&ie=UTF-8#q=site:ch&safe=strict&start=10")
ateam
ateam%>% html_node("h3:nth-child(10)")
ateam%>% html_node("a:nth-child(10)")
ateam
ateam%>% html_node("h3,r:nth-child(3)")
ateam %>% html_node("h3,r:nth-child(3)")%>% html_node("a")
ateam %>% html_node("h3.r:nth-child(3)")%>% html_node("a")
ateam %>% html_node("h3.r:nth-child(3)")
ateam %>% html_node("h3,r:nth-child(3)")%>% html_node("a")
ateam %>% html_node("h3:nth-child(3)")%>% html_node("a")
ateam %>% html_node("div#rcnt")
ateam %>% html_node("#rcnt")%>% html_node("a")
ateam %>% html_node("#rcnt")
ateam %>% html_node("#rcnt")
ateam %>% html_node("h3")
ateam %>% html_node("h3:nth-child(5)")
ateam %>% html_node("h3:nth-child(5)")%>% html_node("a")
ateam %>% html_node("h3")
ateam %>% html_node("//h3[@class='r']//a")
ateam %>% html_nodes("h3")
ateam %>% html_nodes("cite")
ateam %>% html_nodes("cite")%>% %>% html_text
ateam %>% html_nodes("cite") %>% html_text
comsite<-read_html("http://whois.domaintools.com/swiss.ch")
comsite > table
comsite %>% html_node(".table table-condensed table-hover")  %>% html_table(fill=T)
comsite %>% html_node(".table table-condensed table-hover")
comsite %>% html_node("#stats > table")  %>% html_table(fill=T)
goglhtml %>% html_nodes("cite") %>% html_text
goglhtml <- read_html("https://www.google.com/search?q=site%3Ach&oq=site%3Ach&aqs=chrome..69i57j69i58.2273j0j4&sourceid=chrome&ie=UTF-8#q=site:ch&safe=strict&start=0")
goglhtml %>% html_nodes("cite") %>% html_text
comsite<-read_html("http://whois.domaintools.com/dartfish.ch")
comsite %>% html_node("#stats > table")  %>% html_table(fill=T)
goglhtml <- read_html("https://www.google.com/search?q=site%3Ach&oq=site%3Ach&aqs=chrome..69i57j69i58.2273j0j4&sourceid=chrome&ie=UTF-8#q=site:ch&safe=strict&start=20")
goglhtml %>% html_nodes("cite") %>% html_text
goglhtml <- read_html("https://www.google.com/search?q=site%3Ach&oq=site%3Ach&aqs=chrome..69i57j69i58.2273j0j4&sourceid=chrome&ie=UTF-8#q=site:ch&safe=strict&start=50")
goglhtml %>% html_nodes("cite") %>% html_text
devtools::install_github("ropensci/RSelenium")
library(wdman)
set.seed(1234)
dataMatrix<-as.matrix(dataFrame)[sample(1:12),]
kmeanobj<-kmeans(dataMatrix,centers = 3)
x<-rnorm(12,mean = rep(1:3,each=4),sd=0.2)
y<-rnorm(12,mean = rep(c(1,2,1),each=4),sd=0.2)
dataFrame=data.frame(x=x,y=y)
dataMatrix<-as.matrix(dataFrame)[sample(1:12),]
par(mfrow=c(1,2),mar=c(2,4,0.1,0.1))
t(dataMatrix)
nrow(dataMatrix):1
order(kmeanobj$cluster)
kmeanobj<-kmeans(dataMatrix,centers = 3)
order(kmeanobj$cluster)
kmeanobj$cluster
dataMatrix
t(dataMatrix)
t(dataMatrix)[,1:nrow(dataMatrix)]
t(dataMatrix)[,1:nrow(dataMatrix)]
t(dataMatrix)[,order(kmeanobj$cluster)]
kmeanobj$cluster
order(kmeanobj$cluster)
image(t(dataMatrix)[,order(kmeanobj$cluster)],yaxt='n')
image(dataMatrix[order(kmeanobj$cluster),],yaxt='n')
rep(c(0,3),each=5)
install.packages("installr")
library(jsonlite)
library(gWidgets)
library(httr)
consKey <- "QuSyF1FthVA7v9DSAdKq0d3ws"
consSecret<-"vxvVeLPjNvGy23xg2b5XIhupLuavufCtcjpqHUpTeE6vO5pAJY"
token<-"899967360186163200-XcHrbjLqJkNRBPkMilpelqXwLOnh4Sr"
tokenSecret<-"NsMuAHPzaRC1jQlKldjl0E2S3YVDORiCLq3MEidlxXrH6"
myapp = oauth_app("twitter", key=consKey, secret=consSecret)
# sign using token and token secret
sig = sign_oauth1.0(myapp, token=token, token_secret=tokenSecret)
searchOn="Dr"
pageCount=3
for(i in 1:pageCount)
{
url<-paste("https://api.twitter.com/1.1/users/search.json?q=",searchOn,"&page=",i,"&count=10",sep = "")
search_user=GET(url, sig)
json1 = content(search_user)
json2 = jsonlite::fromJSON(toJSON(json1))
##rownames(json2)=c()
userInfo=rbind(userInfo,json2)
}
json2
my_timeline=GET("https://api.twitter.com/1.1/statuses/home_timeline.json", sig)
json1 = content(my_timeline)
json2 = jsonlite::fromJSON(toJSON(json1))
str(json2)
typeof(json2)
str(json2$id)
json2$id[1]
json2$id[[1]]
my_timeline
str(my_timeline)
typeof(json2)
str(json1)
json2 = jsonlite::fromJSON(toJSON(json1),simplify=T)
json2 = jsonlite::fromJSON(content=toJSON(json1),simplify=T)
json2 = jsonlite::fromJSON(content=toJSON(json1),simplify=TRUE)
json2 = jsonlite::fromJSON(content=toJSON(json1),simplifyVector = T)
json2 = jsonlite::fromJSON(toJSON(json1),simplifyVector = T)
typeof(json2)
str(json2$id)
json2 = jsonlite::fromJSON(toJSON(json1),simplifyDataFrame = T)
typeof(json2)
str(json2$id)
json2$id[[1]]
str(json2$entities)
userInfo=NULL
for(i in 1:pageCount)
{
url<-paste("https://api.twitter.com/1.1/users/search.json?q=",searchOn,"&page=",i,"&count=10",sep = "")
search_user=GET(url, sig)
json1 = content(search_user)
json2 = jsonlite::fromJSON(toJSON(json1))
##rownames(json2)=c()
userInfo=rbind(userInfo,json2)
}
json2 = jsonlite::fromJSON(toJSON(json1),simplify2array=T)
userInfo=NULL
for(i in 1:pageCount)
{
url<-paste("https://api.twitter.com/1.1/users/search.json?q=",searchOn,"&page=",i,"&count=10",sep = "")
search_user=GET(url, sig)
json1 = content(search_user)
json2 = jsonlite::fromJSON(toJSON(json1),simplifyVector =T)
##rownames(json2)=c()
userInfo=rbind(userInfo,json2)
}
typeof(json2)
json2$id[[1]]
str(json2$entities)
library(jsonlite)
setwd("C:/tanvir/Tutorial/MyCode/RCode")
library(httr)
consKey <- "QuSyF1FthVA7v9DSAdKq0d3ws"
consSecret<-"vxvVeLPjNvGy23xg2b5XIhupLuavufCtcjpqHUpTeE6vO5pAJY"
token<-"899967360186163200-XcHrbjLqJkNRBPkMilpelqXwLOnh4Sr"
tokenSecret<-"NsMuAHPzaRC1jQlKldjl0E2S3YVDORiCLq3MEidlxXrH6"
myapp = oauth_app("twitter", key=consKey, secret=consSecret)
sig = sign_oauth1.0(myapp, token=token, token_secret=tokenSecret)
searchOn="Dr"
pageCount=3
userInfo=NULL
for(i in 1:pageCount)
{
url<-paste("https://api.twitter.com/1.1/users/search.json?q=",searchOn,"&page=",i,"&count=10",sep = "")
search_user=GET(url, sig)
json1 = content(search_user)
json2 = jsonlite::fromJSON(toJSON(json1),simplifyVector =T)
##rownames(json2)=c()
userInfo=rbind(userInfo,json2)
}
url<-paste("https://api.twitter.com/1.1/users/search.json?q=",searchOn,"&page=",3,"&count=10",sep = "")
search_user=GET(url, sig)
json11 = content(search_user)
json22 = jsonlite::fromJSON(toJSON(json1),simplifyVector =T)
cat(str(json2),"json2_str.txt")
getwd()
cat(str(x=json2),file = "json2_str.txt")
cat(as.data.frame(str(x=json2)),file = "json2_str.txt")
close(file("json2_str.txt"))
fileConn<-file("json2_str.txt")
writeLines(str(x=json2), fileConn)
writeLines(str(json2), fileConn)
close(fileConn)
str(str(json2))
typeof(str(json2))
typeof(str(json2))
typeof(str(json2))
str(json2)
dim(str(json2))
json2$entities
json2$entities
json2$entities'[1]
fileConn<-file("json2_str.txt")
'writeLines(str(json2), fileConn)
json2$entities[1]
json2$entities[2]
json2$entities[,2]
json2$entities[2,]
dim(json2$entities)
str(json2$entities)
str(json2$entities)
str(json2$entities)
json2$entities$url
json2$entities$description
json2$entities$description
unlist(json2)
typof(unlist(json2))
typeof(unlist(json2))
unlist(json2)[1]
unlist(json2)[3]
unlist(json2)[30]
unlist(json2)["name"]
unlist(json2)["name10"]
unlist(json2)["nam"]
unlist(json2)$name
unlist(json2)$name10
unlist(json2)[2]
str(unlist(json2)[2])
str(unlist(json2)[1])
grep("^[id]", names(unlist(json2)[1]), value=TRUE)
grep("^[id]", names(unlist(json2)), value=TRUE)
grep("id", names(unlist(json2)), value=TRUE)
json2["id"]
str(json2["id"])
unlist(json2["id"])
unlist(json2["id",])
unlist(json2[,"id"])
unlist(json2[,"url"])
names(json2)
temuser=NULL
for (nm in names(json2)) {
temuser=cbind(temuser,unlist(json2[,"url"]))
}
temuser
temuser=NULL
unlist(json2[,"url"])
unlist(json2["url"])
temuser=NULL
for (nm in names(json2)) {
temuser=cbind(temuser,unlist(json2[,nm]))
}
names(temuser)
colSums(temuser)
str(temuser)
unlist(json2[,"url"])
str(temuser)
temuser
names(temuser)=names(json2)
names(temuser)
temuser=NULL
for (nm in names(json2)) {
temuser=cbind(temuser,unlist(json2[,nm]))
}
dim(temuser)
nrow(temuser)
typeof(temuser)
str(temuser)
str(temuser)
temuser[1]
temuser[,1]
temuser[1,]
colnames(temuser)
names(json2)
colnames(temuser)=names(json2)
names(temuser)
str(temuser)
temuser
temuser$id
as.data.frame(temuser)
tt=as.data.frame(temuser)
tt$id_str
tt$id
userInfo=NULL
for(i in 1:pageCount)
{
url<-paste("https://api.twitter.com/1.1/users/search.json?q=",searchOn,"&page=",i,"&count=10",sep = "")
search_user=GET(url, sig)
json1 = content(search_user)
json2 = jsonlite::fromJSON(toJSON(json1),simplifyVector =T)
temuser=NULL
for (nm in names(json2)) {
temuser=cbind(temuser,unlist(json2[,nm]))
}
colnames(temuser)=names(json2)
temuser=as.data.frame(temuser)
userInfo=rbind(userInfo,temuser)
}
dim(userInfo)
userInfo$name
unlist(json2[,"url"],use.names = T)
unlist(json2[,"id"],use.names = T)
unlist(json2[,"id"])
nm="id"
unlist(json2[,nm])
userInfo$id
removeclass(userInfo$id)
removeClass(userInfo$id)
userInfo=NULL
for(i in 1:pageCount)
{
url<-paste("https://api.twitter.com/1.1/users/search.json?q=",searchOn,"&page=",i,"&count=10",sep = "")
search_user=GET(url, sig)
json1 = content(search_user)
json2 = jsonlite::fromJSON(toJSON(json1),simplifyVector =T)
temuser=NULL
for (nm in names(json2)) {
temuser=cbind(temuser,unlist(json2[,nm]))
}
colnames(temuser)=names(json2)
temuser=data.frame(temuser,stringsAsFactors = F)
userInfo=rbind(userInfo,temuser)
}
dim(userInfo)
userInfo$id
userInfo$name
searchOn="Dr."
pageCount=3
userInfo=NULL
for(i in 1:pageCount)
{
url<-paste("https://api.twitter.com/1.1/users/search.json?q=",searchOn,"&page=",i,"&count=10",sep = "")
search_user=GET(url, sig)
json1 = content(search_user)
json2 = jsonlite::fromJSON(toJSON(json1),simplifyVector =T)
temuser=NULL
for (nm in names(json2)) {
temuser=cbind(temuser,unlist(json2[,nm]))
}
colnames(temuser)=names(json2)
temuser=data.frame(temuser,stringsAsFactors = F)
userInfo=rbind(userInfo,temuser)
}
userInfo$name
userInfo$followers_count
userInfo$location
geo="&geocode=-40.785091,-73.968285,30km"
userInfo=NULL
for(i in 1:pageCount)
{
url<-paste("https://api.twitter.com/1.1/users/search.json?q=",searchOn,"&page=",i,"&count=10",geo,sep = "")
search_user=GET(url, sig)
json1 = content(search_user)
json2 = jsonlite::fromJSON(toJSON(json1),simplifyVector =T)
temuser=NULL
for (nm in names(json2)) {
temuser=cbind(temuser,unlist(json2[,nm]))
}
colnames(temuser)=names(json2)
temuser=data.frame(temuser,stringsAsFactors = F)
userInfo=rbind(userInfo,temuser)
}
userInfo$location
userInfo$time_zone
userInfo$status
userInfo$following
json2$following
json2$friends_count
json2$followers_count
json2$follow_request_sent
head(userInfo,4)
userInfo$name
typeof(search_user)
searchOn="Dr."
pageCount=30
### geo filter for New York city with
geo="&geocode=-40.785091,-73.968285,30km"
userInfo=NULL
for(i in 1:pageCount)
{
## url for json request
url<-paste("https://api.twitter.com/1.1/users/search.json?q=",searchOn,"&page=",i,"&count=10",geo,sep = "")
## json respons as list
search_user=GET(url, sig)
json1 = content(search_user)
json2 = jsonlite::fromJSON(toJSON(json1),simplifyVector =T)
## to convart as data frame
temuser=NULL
for (nm in names(json2)) {
temuser=cbind(temuser,unlist(json2[,nm]))
}
colnames(temuser)=names(json2)
temuser=data.frame(temuser,stringsAsFactors = F)
userInfo=rbind(userInfo,temuser)
}
userInfo$name
userInfo$location
